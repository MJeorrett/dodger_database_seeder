<form action="/databases/<%= @db_name %>/<%= @table_name %>/seeds" method="post">
  <label for="seed_name">Seed Name:</label>
    <input id="seed_name" type="text" name="seed_name" required />

  <table>
    <thead>
      <tr class="header-row">
        <th>Column Name</th>
        <th>Data File</th>
        <th>Min</th>
        <th>Max</th>
      </tr>
    </thead>
    <tbody>
      <% @target_columns_data.each do |target_column_data| %>
        <% target_column = target_column_data['column_name'] %>
        <tr>
          <td class="seed-setting-column"><%= target_column %> :</td>

          <% if target_column_data['data_type'] == 'character varying' %>
            <td>
              <select name="source_file_<%= target_column %>" >
                <% @file_names.each do |file_name| %>
                  <option value="<%= file_name %>"><%= file_name %></option>
                <% end %>
              </select>
            </td>
          <% else %>
            <td></td>
          <% end %>

          <%
          data_type = target_column_data['data_type']

          if ['integer', 'smallint'].include?( data_type )
            step_att = "step='1'"
          else
            step_att = "step='any'"
          end
          %>

          <% if ['integer', 'smallint', 'numeric'].include?( data_type ) %>
            <td>
              <input type="number" name="min_<%= target_column %>" min="0" <%= step_att %> required>
            </td>
            <td>
              <input type="number" name="max_<%= target_column %>" min="0" <%= step_att %> required>
            </td>
          <% else %>
            <td></td>
            <td></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

<hr>

  <input class="button" type="submit" value="Submit" />
</form>
